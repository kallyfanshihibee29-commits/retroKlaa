<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Blog</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacyfico&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Georgia', serif;
            background-color: #f5f5dc;
        }
        .pacyfico {
            font-family: 'Pacyfico', cursive;
        }
        .retro-shadow {
            box-shadow: 3px 3px 0px #8b4513;
        }
        .card-hover {
            transition: all 0.2s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
        }
        
        /* Animacje wysuwania z boku */
        .slide-in-left {
            animation: slideInLeft 0.8s ease-out forwards;
            opacity: 0;
            transform: translateX(-100px);
        }
        
        .slide-in-right {
            animation: slideInRight 0.8s ease-out forwards;
            opacity: 0;
            transform: translateX(100px);
        }
        
        .slide-in-up {
            animation: slideInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
        }
        
        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Opóźnienia dla efektu kaskadowego */
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
        .delay-5 { animation-delay: 0.5s; }
        .delay-6 { animation-delay: 0.6s; }
        
        /* Intensywne efekty kliknięcia */
        .click-effect {
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
        }
        
        .click-effect:active {
            transform: scale(0.85) translateY(5px) rotateX(10deg);
            box-shadow: 0px 0px 0px #8b4513;
            filter: brightness(1.3) saturate(1.5);
        }
        
        .nav-button {
            transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
        }
        
        .nav-button:active {
            transform: translateY(5px) scale(0.9) rotateZ(2deg);
            box-shadow: 0px 0px 0px #8b4513;
            filter: brightness(1.4) hue-rotate(15deg);
        }
        
        /* Efekt pulsowania przy kliknięciu */
        .pulse-effect {
            animation: pulseClick 0.3s ease-out;
        }
        
        @keyframes pulseClick {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); box-shadow: 0 0 20px rgba(139, 69, 19, 0.6); }
            100% { transform: scale(1); }
        }
        
        /* Efekt błysku */
        .flash-effect {
            position: relative;
        }
        
        .flash-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            transition: left 0.5s ease;
        }
        
        .flash-effect.flashing::before {
            left: 100%;
        }
        
        /* Efekt trzęsienia */
        .shake-effect {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px) rotateZ(-1deg); }
            20%, 40%, 60%, 80% { transform: translateX(3px) rotateZ(1deg); }
        }
        
        /* Efekt odbicia */
        .bounce-effect {
            animation: bounceClick 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes bounceClick {
            0% { transform: scale(1) translateY(0); }
            30% { transform: scale(0.8) translateY(8px); }
            60% { transform: scale(1.1) translateY(-4px); }
            100% { transform: scale(1) translateY(0); }
        }
        
        /* Efekt eksplozji kolorów */
        .color-explosion {
            animation: colorExplode 0.4s ease-out;
        }
        
        @keyframes colorExplode {
            0% { filter: hue-rotate(0deg) saturate(1) brightness(1); }
            25% { filter: hue-rotate(90deg) saturate(2) brightness(1.5); }
            50% { filter: hue-rotate(180deg) saturate(3) brightness(2); }
            75% { filter: hue-rotate(270deg) saturate(2) brightness(1.5); }
            100% { filter: hue-rotate(360deg) saturate(1) brightness(1); }
        }
        
        /* Animacje dla losowania prezentów */
        .lottery-spinning {
            animation: lotterySpinSimple 0.1s infinite;
        }
        
        @keyframes lotterySpinSimple {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .lottery-result {
            animation: lotteryReveal 0.8s ease-out;
        }
        
        @keyframes lotteryReveal {
            0% { transform: scale(0) rotateZ(180deg); opacity: 0; }
            50% { transform: scale(1.2) rotateZ(0deg); opacity: 1; }
            100% { transform: scale(1) rotateZ(0deg); opacity: 1; }
        }
        
        .countdown-timer {
            animation: countdownPulse 2s infinite;
        }
        
        @keyframes countdownPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Confetti animation */
        .confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff6b6b;
            animation: confetti-fall 3s linear forwards;
        }
        
        .confetti-piece:nth-child(2n) { background: #4ecdc4; }
        .confetti-piece:nth-child(3n) { background: #45b7d1; }
        .confetti-piece:nth-child(4n) { background: #96ceb4; }
        .confetti-piece:nth-child(5n) { background: #ffeaa7; }
        .confetti-piece:nth-child(6n) { background: #dda0dd; }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="min-h-full" style="background-color: #f5f5dc;">
    <div class="min-h-full">
        <!-- Header with Navigation -->
        <header style="background-color: #f5f5dc;" class="border-b-4 border-red-900">
            <div class="max-w-6xl mx-auto px-4 py-8">
                <div class="flex justify-center items-center gap-4 mb-4">
                    <div class="bg-yellow-400 border-4 border-yellow-600 retro-shadow px-4 py-2 flex items-center gap-2">
                        <svg width="24" height="24" viewBox="0 0 24 24" class="text-yellow-800">
                            <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                            <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                            <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                        </svg>
                        <span class="font-bold text-yellow-800" id="coin-count">0</span>
                        <span class="text-yellow-800">Monet</span>
                    </div>
                    <div class="bg-blue-400 border-4 border-blue-600 retro-shadow px-4 py-2 flex items-center gap-2">
                        <svg width="24" height="24" viewBox="0 0 24 24" class="text-blue-800">
                            <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#1E40AF" stroke-width="2"/>
                            <circle cx="12" cy="12" r="6" fill="#60A5FA"/>
                            <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1E40AF">K</text>
                        </svg>
                        <span class="font-bold text-blue-800" id="credit-count">0</span>
                        <span class="text-blue-800">Kredytów</span>
                    </div>
                </div>
                <h1 class="pacyfico text-5xl md:text-6xl text-red-900 text-center mb-8 slide-in-up delay-1">
                    Klasyka
                </h1>
                
                <!-- Navigation -->
                <nav class="flex flex-wrap justify-center gap-4">
                    <button onclick="showSection('wpisy')" id="btn-wpisy" class="nav-button bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-6 retro-shadow transition-all duration-200 slide-in-left delay-2">
                        Wpisy
                    </button>
                    <button onclick="showSection('sklep')" id="btn-sklep" class="nav-button bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-6 retro-shadow transition-all duration-200 slide-in-up delay-3">
                        Sklep
                    </button>
                    <button onclick="showSection('misje')" id="btn-misje" class="nav-button bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-6 retro-shadow transition-all duration-200 slide-in-right delay-4">
                        Misje
                    </button>
                    <button onclick="showSection('karnet')" id="btn-karnet" class="nav-button bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-6 retro-shadow transition-all duration-200 slide-in-left delay-5">
                        Karnet Retro
                    </button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="content-area max-w-6xl mx-auto px-4 py-8">
            <!-- Wpisy Section -->
            <div id="wpisy-section" class="section">
                <h2 class="pacyfico text-3xl text-red-900 text-center mb-8">Najnowsze Wpisy</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Wpis 1 -->
                    <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-left delay-1">
                        <div class="bg-red-900 p-4">
                            <h3 class="pacyfico text-xl text-white text-center">Ford Mustang Fastback '67</h3>
                        </div>
                        <div class="p-4">
                            <div class="w-full h-48 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                <img src="zdjęcie_1.png" alt="Ford Mustang Fastback '67" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_1.png</span>';">
                            </div>
                            <button onclick="openPost('Ford Mustang Fastback \'67')" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                Czytaj
                            </button>
                        </div>
                    </div>

                    <!-- Wpis 2 -->
                    <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-up delay-2">
                        <div class="bg-red-900 p-4">
                            <h3 class="pacyfico text-xl text-white text-center">Jaguar E-Type 1963</h3>
                        </div>
                        <div class="p-4">
                            <div class="w-full h-48 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                <img src="zdjęcie_2.png" alt="Jaguar E-Type 1963" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_2.png</span>';">
                            </div>
                            <button onclick="openPost('Jaguar E-Type 1963')" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                Czytaj
                            </button>
                        </div>
                    </div>

                    <!-- Wpis 3 -->
                    <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-right delay-3">
                        <div class="bg-red-900 p-4">
                            <h3 class="pacyfico text-xl text-white text-center">Chevrolet Bel Air 1955</h3>
                        </div>
                        <div class="p-4">
                            <div class="w-full h-48 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                <img src="zdjęcie_3.png" alt="Chevrolet Bel Air 1955" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_3.png</span>';">
                            </div>
                            <button onclick="openPost('Chevrolet Bel Air 1955')" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                Czytaj
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sklep Section -->
            <div id="sklep-section" class="section hidden">
                <h2 class="pacyfico text-3xl text-red-900 text-center mb-8 slide-in-up delay-1">Sklep</h2>
                
                <!-- Codzienny Darmowy Prezent -->
                <div class="mb-12">
                    <div class="max-w-md mx-auto bg-red-900 border-4 border-red-700 retro-shadow p-6 text-center slide-in-up delay-2">
                        <h3 class="pacyfico text-2xl text-white mb-4">Codzienny Prezent!</h3>
                        <div id="daily-gift-content">
                            <p class="text-white font-bold mb-4">Odbierz swój darmowy prezent!</p>
                            <button id="claim-daily-gift" onclick="startDailyGiftLottery()" class="click-effect bg-green-800 hover:bg-green-700 text-white font-bold py-3 px-6 retro-shadow transition-all duration-200 text-lg">
                                LOSUJ PREZENT!
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Dodatkowe Wpisy -->
                <div class="mb-12">
                    <h3 class="pacyfico text-2xl text-red-900 text-center mb-6 slide-in-up delay-2">Dodatkowe Wpisy</h3>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <!-- 1. Porsche 911 Carrera 1973 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow relative slide-in-left delay-3">
                            <!-- Nakładka przeceny -->
                            <div class="absolute -top-2 -right-2 bg-red-600 text-white px-3 py-1 rounded-full font-bold text-sm z-10 retro-shadow">
                                PRZECENA!
                            </div>
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Porsche 911 Carrera 1973</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_4.png" alt="Porsche 911 Carrera 1973" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_4.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-red-600 line-through text-sm">500</span>
                                    <span class="font-bold text-green-600 text-lg">300</span>
                                </div>
                                <button onclick="buyPost('Porsche 911 Carrera 1973', 300)" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 2. Dodge Charger R/T 1969 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-up delay-4">
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Dodge Charger R/T 1969</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_5.png" alt="Dodge Charger R/T 1969" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_5.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Dodge Charger R/T 1969', 500)" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 3. Alfa Romeo Spider 1966 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-right delay-5">
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Alfa Romeo Spider 1966</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_6.png" alt="Alfa Romeo Spider 1966" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_6.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Alfa Romeo Spider 1966', 500)" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 4. Mercedes-Benz 300SL Gullwing 1955 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-left delay-6">
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Mercedes-Benz 300SL Gullwing 1955</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_7.png" alt="Mercedes-Benz 300SL Gullwing 1955" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_7.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Mercedes-Benz 300SL Gullwing 1955', 500)" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 5. Toyota 2000GT 1967 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow relative slide-in-up delay-1">
                            <!-- Nakładka przeceny -->
                            <div class="absolute -top-2 -right-2 bg-red-600 text-white px-3 py-1 rounded-full font-bold text-sm z-10 retro-shadow">
                                PRZECENA!
                            </div>
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Toyota 2000GT 1967</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_8.png" alt="Toyota 2000GT 1967" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_8.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-red-600 line-through text-sm">500</span>
                                    <span class="font-bold text-green-600 text-lg">300</span>
                                </div>
                                <button onclick="buyPost('Toyota 2000GT 1967', 300)" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 6. Pontiac GTO 1967 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow slide-in-right delay-2">
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Pontiac GTO 1967</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_9.png" alt="Pontiac GTO 1967" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_9.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Pontiac GTO 1967', 500)" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 7. Fiat 125p -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow relative slide-in-left delay-3">
                            <!-- Nakładka NOWE -->
                            <div class="absolute -top-2 -right-2 bg-blue-600 text-white px-3 py-1 rounded-full font-bold text-sm z-10 retro-shadow">
                                NOWE!
                            </div>
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Fiat 125p</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_10.png" alt="Fiat 125p" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_10.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Fiat 125p', 500)" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 8. Lancia Delta -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow relative slide-in-up delay-4">
                            <!-- Nakładka NOWE -->
                            <div class="absolute -top-2 -right-2 bg-blue-600 text-white px-3 py-1 rounded-full font-bold text-sm z-10 retro-shadow">
                                NOWE!
                            </div>
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Lancia Delta</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_11.png" alt="Lancia Delta" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_11.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Lancia Delta', 500)" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>

                        <!-- 9. Nysa 522 -->
                        <div class="card-hover bg-white border-4 border-red-900 retro-shadow relative slide-in-right delay-5">
                            <!-- Nakładka NOWE -->
                            <div class="absolute -top-2 -right-2 bg-blue-600 text-white px-3 py-1 rounded-full font-bold text-sm z-10 retro-shadow">
                                NOWE!
                            </div>
                            <div class="bg-red-900 p-4">
                                <h4 class="pacyfico text-lg text-white text-center">Nysa 522</h4>
                            </div>
                            <div class="p-4">
                                <div class="w-full h-32 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                    <img src="zdjęcie_12.png" alt="Nysa 522" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>zdjęcie_12.png</span>';">
                                </div>
                                <div class="flex items-center justify-center gap-2 mb-3">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                                <button onclick="buyPost('Nysa 522', 500)" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                    Kup
                                </button>
                            </div>
                        </div>


                    </div>
                </div>

                <!-- Oferty Monetek -->
                <div>
                    <h3 class="pacyfico text-2xl text-red-900 text-center mb-6 slide-in-up delay-6">Oferty Monetek</h3>
                    
                    <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                        <!-- 500 Monet -->
                        <div class="bg-white border-4 border-red-900 retro-shadow p-6 text-center slide-in-left delay-1">
                            <div class="flex items-center justify-center gap-2 mb-4">
                                <svg width="32" height="32" viewBox="0 0 24 24" class="text-yellow-600">
                                    <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                    <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                    <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                </svg>
                                <span class="text-2xl font-bold text-gray-700">500</span>
                            </div>
                            <p class="text-xl font-bold text-red-900 mb-4">2,99 zł</p>
                            <button onclick="buyCoins(500, '2,99 zł')" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                Kup
                            </button>
                        </div>

                        <!-- 1000 Monet -->
                        <div class="bg-white border-4 border-red-900 retro-shadow p-6 text-center slide-in-up delay-2">
                            <div class="flex items-center justify-center gap-2 mb-4">
                                <svg width="32" height="32" viewBox="0 0 24 24" class="text-yellow-600">
                                    <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                    <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                    <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                </svg>
                                <span class="text-2xl font-bold text-gray-700">1000</span>
                            </div>
                            <p class="text-xl font-bold text-red-900 mb-4">4,99 zł</p>
                            <button onclick="buyCoins(1000, '4,99 zł')" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                Kup
                            </button>
                        </div>

                        <!-- 1500 Monet -->
                        <div class="bg-white border-4 border-red-900 retro-shadow p-6 text-center slide-in-right delay-3">
                            <div class="flex items-center justify-center gap-2 mb-4">
                                <svg width="32" height="32" viewBox="0 0 24 24" class="text-yellow-600">
                                    <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                    <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                    <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                </svg>
                                <span class="text-2xl font-bold text-gray-700">1500</span>
                            </div>
                            <p class="text-xl font-bold text-red-900 mb-4">7,99 zł</p>
                            <button onclick="buyCoins(1500, '7,99 zł')" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                                Kup
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Wyszukiwarka kodów specjalnych -->
                <div class="mt-12">
                    <h3 class="pacyfico text-2xl text-red-900 text-center mb-6 slide-in-up delay-1">Kody Specjalne</h3>
                    
                    <div class="max-w-md mx-auto bg-white border-4 border-red-900 retro-shadow p-6 text-center slide-in-up delay-2">
                        <p class="text-gray-700 mb-4 font-bold">Wpisz kod specjalny</p>
                        <input type="text" id="special-code-input" placeholder="Wprowadź kod..." class="w-full px-4 py-2 border-2 border-gray-400 mb-4 text-center font-bold uppercase" maxlength="20">
                        <button onclick="checkSpecialCode()" class="click-effect w-full bg-blue-800 hover:bg-blue-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                            SPRAWDŹ KOD
                        </button>
                    </div>
                </div>
            </div>

            <!-- Misje Section -->
            <div id="misje-section" class="section hidden">
                <h2 class="pacyfico text-3xl text-red-900 text-center mb-8 slide-in-up delay-1">Misje</h2>
                
                <div class="max-w-4xl mx-auto space-y-6">
                    <!-- Misja 1: Czytanie wpisów -->
                    <div class="bg-white border-4 border-red-900 retro-shadow p-6 slide-in-left delay-2">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="pacyfico text-xl text-red-900">Misja Czytelnika</h3>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">100</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-blue-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#1E40AF" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#60A5FA"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1E40AF">K</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2">Etap <span id="reading-stage">1</span>: Przeczytaj <span id="reading-target">3</span> wpisów</p>
                            <div class="bg-gray-200 rounded-full h-4 mb-2">
                                <div id="reading-progress" class="bg-green-600 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-gray-600">Postęp: <span id="reading-current">0</span>/<span id="reading-target-text">3</span></p>
                        </div>
                        <button id="reading-claim" onclick="claimReadingReward()" class="bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed" disabled>
                            Odbierz nagrodę
                        </button>
                    </div>

                    <!-- Misja 2: Kupowanie wpisów -->
                    <div class="bg-white border-4 border-red-900 retro-shadow p-6 slide-in-right delay-3">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="pacyfico text-xl text-red-900">Misja Kolekcjonera</h3>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">30</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-blue-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#1E40AF" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#60A5FA"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1E40AF">K</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2">Etap <span id="buying-stage">1</span>: Kup <span id="buying-target">1</span> wpis ze sklepu</p>
                            <div class="bg-gray-200 rounded-full h-4 mb-2">
                                <div id="buying-progress" class="bg-green-600 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-gray-600">Postęp: <span id="buying-current">0</span>/<span id="buying-target-text">1</span></p>
                        </div>
                        <button id="buying-claim" onclick="claimBuyingReward()" class="bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed" disabled>
                            Odbierz nagrodę
                        </button>
                    </div>

                    <!-- Misja 3: Zbieranie monet -->
                    <div class="bg-white border-4 border-red-900 retro-shadow p-6 slide-in-left delay-4">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="pacyfico text-xl text-red-900">Misja Zbieracza</h3>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-yellow-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#B45309" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#FCD34D"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#B45309">M</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">100</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-blue-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#1E40AF" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#60A5FA"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1E40AF">K</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2">Etap <span id="collecting-stage">1</span>: Uzbieraj łącznie <span id="collecting-target">500</span> monet</p>
                            <div class="bg-gray-200 rounded-full h-4 mb-2">
                                <div id="collecting-progress" class="bg-green-600 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-gray-600">Postęp: <span id="collecting-current">0</span>/<span id="collecting-target-text">500</span></p>
                        </div>
                        <button id="collecting-claim" onclick="claimCollectingReward()" class="bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed" disabled>
                            Odbierz nagrodę
                        </button>
                    </div>

                    <!-- Misja 4: Wydawanie monet -->
                    <div class="bg-white border-4 border-red-900 retro-shadow p-6 slide-in-right delay-5">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="pacyfico text-xl text-red-900">Misja Wydawcy</h3>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-blue-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#1E40AF" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#60A5FA"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1E40AF">K</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">500</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2">Etap <span id="spending-stage">1</span>: Wydaj łącznie <span id="spending-target">500</span> monet</p>
                            <div class="bg-gray-200 rounded-full h-4 mb-2">
                                <div id="spending-progress" class="bg-green-600 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-gray-600">Postęp: <span id="spending-current">0</span>/<span id="spending-target-text">500</span></p>
                        </div>
                        <button id="spending-claim" onclick="claimSpendingReward()" class="bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed" disabled>
                            Odbierz nagrodę
                        </button>
                    </div>

                    <!-- Misja 5: Codzienny prezent -->
                    <div class="bg-white border-4 border-red-900 retro-shadow p-6 slide-in-left delay-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="pacyfico text-xl text-red-900">Misja Regularności</h3>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-1">
                                    <svg width="20" height="20" viewBox="0 0 24 24" class="text-blue-600">
                                        <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#1E40AF" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="6" fill="#60A5FA"/>
                                        <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1E40AF">K</text>
                                    </svg>
                                    <span class="font-bold text-gray-700">1500</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2">Etap <span id="daily-gift-stage">1</span>: Odbierz codzienny prezent przez <span id="daily-gift-target">7</span> dni</p>
                            <div class="bg-gray-200 rounded-full h-4 mb-2">
                                <div id="daily-gift-progress" class="bg-green-600 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-gray-600">Postęp: <span id="daily-gift-current">0</span>/<span id="daily-gift-target-text">7</span></p>
                        </div>
                        <button id="daily-gift-claim" onclick="claimDailyGiftMissionReward()" class="bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed" disabled>
                            Odbierz nagrodę
                        </button>
                    </div>
                </div>
            </div>

            <!-- Karnet Retro Section -->
            <div id="karnet-section" class="section hidden">
                <h2 class="pacyfico text-3xl text-red-900 text-center mb-8 slide-in-up delay-1">Karnet Retro</h2>
                
                <div class="max-w-6xl mx-auto">
                    <!-- Progress Header -->
                    <div class="bg-white border-4 border-green-800 retro-shadow p-6 mb-8 text-center slide-in-up delay-2">
                        <div class="flex items-center justify-center gap-4 mb-4">
                            <svg width="40" height="40" viewBox="0 0 24 24" class="text-green-800">
                                <circle cx="12" cy="12" r="10" fill="currentColor" stroke="#166534" stroke-width="2"/>
                                <circle cx="12" cy="12" r="6" fill="#22C55E"/>
                                <text x="12" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="#166534">R</text>
                            </svg>
                            <div>
                                <h3 class="pacyfico text-2xl text-green-800">Poziom <span id="pass-level">1</span></h3>
                                <p class="text-gray-700">Postęp: <span id="pass-progress">0</span>/<span id="pass-required">1000</span> kredytów</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-200 rounded-full h-6 mb-4">
                            <div id="pass-progress-bar" class="bg-green-600 h-6 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        
                        <p class="text-sm text-gray-600">Zdobywaj kredyty wykonując misje i kupując wpisy!</p>
                    </div>
                    
                    <!-- Pass Levels Grid -->
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                        <!-- Levels will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Post View Section -->
            <div id="post-section" class="section hidden">
                <div class="max-w-3xl mx-auto">
                    <button onclick="returnToPostsWithReward()" class="mb-6 bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200">
                        ← Powrót do wpisów
                    </button>
                    <div class="bg-white border-4 border-red-900 retro-shadow p-8">
                        <h2 id="post-title" class="pacyfico text-3xl text-red-900 text-center mb-6"></h2>
                        <div class="prose max-w-none">
                            <div id="post-content" class="text-gray-700 text-lg leading-relaxed text-justify space-y-4">
                                <p class="text-center italic">Treść wkrótce...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer style="background-color: #f5f5dc;" class="border-t-4 border-red-900 text-red-900 text-center py-6 mt-12">
            <p class="pacyfico text-lg">© 2024 Klasyka - Klasyczne Samochody</p>
        </footer>
    </div>

    <script>
        // Game state
        let coins = 0;
        let credits = 0;
        let ownedPosts = [];
        let readPosts = [];
        let readPostsRewarded = []; // Track which posts have been rewarded for reading
        let availableShopPosts = ['Porsche 911 Carrera 1973', 'Dodge Charger R/T 1969', 'Alfa Romeo Spider 1966', 'Mercedes-Benz 300SL Gullwing 1955', 'Toyota 2000GT 1967', 'Pontiac GTO 1967', 'Fiat 125p', 'Lancia Delta', 'Nysa 522'];
        
        // Mission progress
        let readingStage = 1;
        let readingProgress = 0;
        let buyingStage = 1;
        let buyingProgress = 0;
        let collectingStage = 1;
        let totalCoinsEarned = 0;
        let spendingStage = 1;
        let totalCoinsSpent = 0;
        let dailyGiftStage = 1;
        let dailyGiftsCollected = 0;
        
        // Daily gift system
        let lastDailyGiftTime = 0;
        let dailyGiftAvailable = true;
        
        // Pass system
        let passLevel = 1;
        let passCredits = 0;
        let claimedPassRewards = [];

        // Load saved data
        function loadGameData() {
            const saved = localStorage.getItem('retroBlogData');
            if (saved) {
                const data = JSON.parse(saved);
                coins = data.coins || 0;
                credits = data.credits || 0;
                ownedPosts = data.ownedPosts || [];
                readPosts = data.readPosts || [];
                readPostsRewarded = data.readPostsRewarded || [];
                availableShopPosts = data.availableShopPosts || ['Porsche 911 Carrera 1973', 'Dodge Charger R/T 1969', 'Alfa Romeo Spider 1966', 'Mercedes-Benz 300SL Gullwing 1955', 'Toyota 2000GT 1967', 'Pontiac GTO 1967', 'Fiat 125p', 'Lancia Delta', 'Nysa 522'];
                
                readingStage = data.readingStage || 1;
                readingProgress = data.readingProgress || 0;
                buyingStage = data.buyingStage || 1;
                buyingProgress = data.buyingProgress || 0;
                collectingStage = data.collectingStage || 1;
                totalCoinsEarned = data.totalCoinsEarned || 0;
                spendingStage = data.spendingStage || 1;
                totalCoinsSpent = data.totalCoinsSpent || 0;
                dailyGiftStage = data.dailyGiftStage || 1;
                dailyGiftsCollected = data.dailyGiftsCollected || 0;
                
                lastDailyGiftTime = data.lastDailyGiftTime || 0;
                dailyGiftAvailable = data.dailyGiftAvailable !== undefined ? data.dailyGiftAvailable : true;
                
                passLevel = data.passLevel || 1;
                passCredits = data.passCredits || 0;
                claimedPassRewards = data.claimedPassRewards || [];
            } else {
                // Set initial values only if no saved data exists
                coins = 0;
                credits = 0;
                ownedPosts = [];
                readPosts = [];
                readPostsRewarded = [];
                availableShopPosts = ['Porsche 911 Carrera 1973', 'Dodge Charger R/T 1969', 'Alfa Romeo Spider 1966', 'Mercedes-Benz 300SL Gullwing 1955', 'Toyota 2000GT 1967', 'Pontiac GTO 1967', 'Fiat 125p', 'Lancia Delta', 'Nysa 522'];
                
                readingStage = 1;
                readingProgress = 0;
                buyingStage = 1;
                buyingProgress = 0;
                collectingStage = 1;
                totalCoinsEarned = 0;
                spendingStage = 1;
                totalCoinsSpent = 0;
                dailyGiftStage = 1;
                dailyGiftsCollected = 0;
                
                lastDailyGiftTime = 0;
                dailyGiftAvailable = true;
                
                passLevel = 1;
                passCredits = 0;
                claimedPassRewards = [];
            }
        }

        // Save game data
        function saveGameData() {
            const data = {
                coins,
                credits,
                ownedPosts,
                readPosts,
                readPostsRewarded,
                availableShopPosts,
                readingStage,
                readingProgress,
                buyingStage,
                buyingProgress,
                collectingStage,
                totalCoinsEarned,
                spendingStage,
                totalCoinsSpent,
                dailyGiftStage,
                dailyGiftsCollected,
                lastDailyGiftTime,
                dailyGiftAvailable,
                passLevel,
                passCredits,
                claimedPassRewards
            };
            localStorage.setItem('retroBlogData', JSON.stringify(data));
        }

        function updateCoinDisplay() {
            document.getElementById('coin-count').textContent = coins;
            document.getElementById('credit-count').textContent = credits;
        }

        // Confetti function
        function createConfetti() {
            const confettiContainer = document.createElement('div');
            confettiContainer.className = 'confetti';
            document.body.appendChild(confettiContainer);
            
            for (let i = 0; i < 50; i++) {
                const confettiPiece = document.createElement('div');
                confettiPiece.className = 'confetti-piece';
                confettiPiece.style.left = Math.random() * 100 + '%';
                confettiPiece.style.animationDelay = Math.random() * 3 + 's';
                confettiPiece.style.animationDuration = (Math.random() * 2 + 2) + 's';
                confettiContainer.appendChild(confettiPiece);
            }
            
            // Remove confetti after animation
            setTimeout(() => {
                document.body.removeChild(confettiContainer);
            }, 5000);
        }

        // Funkcje intensywnych efektów
        function addIntenseClickEffect(element) {
            // Losowy wybór efektu
            const effects = ['pulse-effect', 'bounce-effect', 'shake-effect', 'color-explosion', 'flash-effect'];
            const randomEffect = effects[Math.floor(Math.random() * effects.length)];
            
            element.classList.add(randomEffect);
            
            if (randomEffect === 'flash-effect') {
                element.classList.add('flashing');
                setTimeout(() => element.classList.remove('flashing'), 500);
            }
            
            setTimeout(() => {
                element.classList.remove(randomEffect);
            }, 600);
        }

        function buyCoins(amount, price) {
            // Dodaj efekt do klikniętego przycisku
            event.target.classList.add('color-explosion');
            setTimeout(() => event.target.classList.remove('color-explosion'), 400);
            
            // Show payment message
            const message = document.createElement('div');
            message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-red-900 retro-shadow p-6 z-50 bounce-effect';
            message.innerHTML = `
                <h3 class="pacyfico text-xl text-red-900 mb-4">Płatność</h3>
                <p class="mb-4">Przekaż kwotę ${price} właścicielowi Bloga</p>
                <button onclick="addIntenseClickEffect(this); this.parentElement.remove(); coins += ${amount}; totalCoinsEarned += ${amount}; updateCoinDisplay(); updateMissionProgress(); saveGameData();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                    Potwierdzam płatność
                </button>
                <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-4 retro-shadow ml-2 click-effect">
                    Anuluj
                </button>
            `;
            document.body.appendChild(message);
        }

        function buyPost(postTitle, cost) {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            if (coins >= cost) {
                coins -= cost;
                totalCoinsSpent += cost;
                ownedPosts.push(postTitle);
                
                // Remove from available shop posts
                availableShopPosts = availableShopPosts.filter(post => post !== postTitle);
                
                // Update buying mission progress
                buyingProgress++;
                updateMissionProgress();
                
                updateCoinDisplay();
                updatePostsDisplay();
                updateShopDisplay();
                saveGameData();
                
                // Show success message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 pulse-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Sukces!</h3>
                    <p class="mb-4">Wpis "${postTitle}" został dodany do Twoich wpisów!</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove(); showSection('wpisy');" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        Przejdź do wpisów
                    </button>
                `;
                document.body.appendChild(message);
            } else {
                // Show insufficient funds message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-red-900 retro-shadow p-6 z-50 shake-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-red-900 mb-4">Brak środków</h3>
                    <p class="mb-4">Potrzebujesz ${cost} monet, a masz tylko ${coins}.</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            }
        }

        function updatePostsDisplay() {
            const postsContainer = document.querySelector('#wpisy-section .grid');
            
            // Add owned posts to the display
            ownedPosts.forEach(postTitle => {
                if (!document.querySelector(`[data-post="${postTitle}"]`)) {
                    let imageSrc, imageAlt;
                    if (postTitle === 'Porsche 911 Carrera 1973') {
                        imageSrc = 'zdjęcie_4.png';
                        imageAlt = 'Porsche 911 Carrera 1973';
                    } else if (postTitle === 'Dodge Charger R/T 1969') {
                        imageSrc = 'zdjęcie_5.png';
                        imageAlt = 'Dodge Charger R/T 1969';
                    } else if (postTitle === 'Alfa Romeo Spider 1966') {
                        imageSrc = 'zdjęcie_6.png';
                        imageAlt = 'Alfa Romeo Spider 1966';
                    } else if (postTitle === 'Mercedes-Benz 300SL Gullwing 1955') {
                        imageSrc = 'zdjęcie_7.png';
                        imageAlt = 'Mercedes-Benz 300SL Gullwing 1955';
                    } else if (postTitle === 'Toyota 2000GT 1967') {
                        imageSrc = 'zdjęcie_8.png';
                        imageAlt = 'Toyota 2000GT 1967';
                    } else if (postTitle === 'Pontiac GTO 1967') {
                        imageSrc = 'zdjęcie_9.png';
                        imageAlt = 'Pontiac GTO 1967';
                    } else if (postTitle === 'Fiat 125p') {
                        imageSrc = 'zdjęcie_10.png';
                        imageAlt = 'Fiat 125p';
                    } else if (postTitle === 'Lancia Delta') {
                        imageSrc = 'zdjęcie_11.png';
                        imageAlt = 'Lancia Delta';
                    } else if (postTitle === 'Nysa 522') {
                        imageSrc = 'zdjęcie_12.png';
                        imageAlt = 'Nysa 522';
                    } else if (postTitle === 'Syrena 105') {
                        imageSrc = 'zdjecie_13.png';
                        imageAlt = 'Syrena 105';
                    }
                    
                    const isRead = readPosts.includes(postTitle);
                    const buttonText = isRead ? 'Przeczytano' : 'Czytaj';
                    const buttonClass = isRead ? 'bg-gray-600 hover:bg-gray-500' : 'bg-green-800 hover:bg-green-700';
                    
                    const postCard = document.createElement('div');
                    postCard.className = 'card-hover bg-white border-4 border-red-900 retro-shadow';
                    postCard.setAttribute('data-post', postTitle);
                    postCard.innerHTML = `
                        <div class="bg-red-900 p-4">
                            <h3 class="pacyfico text-xl text-white text-center">${postTitle}</h3>
                        </div>
                        <div class="p-4">
                            <div class="w-full h-48 bg-gray-200 mb-4 flex items-center justify-center border-2 border-gray-400">
                                <img src="${imageSrc}" alt="${imageAlt}" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Zdjęcie niedostępne'; this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-500 text-sm\'>${imageSrc}</span>';">
                            </div>
                            <button onclick="openPost('${postTitle}')" class="w-full ${buttonClass} text-white font-bold py-2 px-4 retro-shadow transition-all duration-200" id="btn-${postTitle.replace(/\s+/g, '-')}">
                                ${buttonText}
                            </button>
                        </div>
                    `;
                    postsContainer.appendChild(postCard);
                }
            });
        }

        function updateShopDisplay() {
            // Hide purchased cars from shop
            const shopCards = document.querySelectorAll('#sklep-section .grid .card-hover');
            
            shopCards.forEach(card => {
                const titleElement = card.querySelector('h4');
                if (titleElement) {
                    const postTitle = titleElement.textContent;
                    if (ownedPosts.includes(postTitle)) {
                        card.style.display = 'none';
                    } else {
                        card.style.display = 'block';
                    }
                }
            });
        }

        function showSection(sectionName) {
            // Dodaj efekt do klikniętego przycisku nawigacji
            if (event && event.target) {
                addIntenseClickEffect(event.target);
            }
            
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.remove('hidden');
            }
            
            // Update button styles
            const buttons = document.querySelectorAll('nav button');
            buttons.forEach(btn => {
                btn.style.transform = 'none';
                btn.style.boxShadow = '3px 3px 0px #8b4513';
            });
            
            const activeBtn = document.getElementById('btn-' + sectionName);
            if (activeBtn) {
                activeBtn.style.transform = 'translateY(2px)';
                activeBtn.style.boxShadow = '1px 1px 0px #8b4513';
            }
        }

        // Pass system functions
        function getRequiredCreditsForLevel(level) {
            if (level <= 20) {
                return 1500;
            } else {
                return 3000;
            }
        }
        
        function updatePassProgress() {
            // Calculate current level based on credits
            let totalCreditsNeeded = 0;
            let currentLevel = 1;
            
            for (let i = 1; i <= 30; i++) {
                const creditsForThisLevel = getRequiredCreditsForLevel(i);
                if (passCredits >= totalCreditsNeeded + creditsForThisLevel) {
                    totalCreditsNeeded += creditsForThisLevel;
                    currentLevel = i + 1;
                } else {
                    break;
                }
            }
            
            passLevel = Math.min(currentLevel, 30);
            
            // Calculate progress for current level
            let creditsUsed = 0;
            for (let i = 1; i < passLevel; i++) {
                creditsUsed += getRequiredCreditsForLevel(i);
            }
            
            const creditsForCurrentLevel = getRequiredCreditsForLevel(passLevel);
            const currentLevelProgress = passCredits - creditsUsed;
            const progressPercent = passLevel >= 30 ? 100 : Math.min((currentLevelProgress / creditsForCurrentLevel) * 100, 100);
            
            // Update UI
            document.getElementById('pass-level').textContent = passLevel;
            document.getElementById('pass-progress').textContent = passLevel >= 30 ? creditsForCurrentLevel : currentLevelProgress;
            document.getElementById('pass-required').textContent = creditsForCurrentLevel;
            document.getElementById('pass-progress-bar').style.width = progressPercent + '%';
            
            // Generate pass levels grid
            generatePassLevels();
        }
        
        function generatePassLevels() {
            const grid = document.querySelector('#karnet-section .grid');
            grid.innerHTML = '';
            
            for (let level = 1; level <= 30; level++) {
                const isUnlocked = level <= passLevel;
                const isClaimed = claimedPassRewards.includes(level);
                const canClaim = isUnlocked && !isClaimed;
                
                let reward = '80 Monet';
                if (level === 30) {
                    reward = 'Syrena 105';
                }
                
                const levelCard = document.createElement('div');
                levelCard.className = `bg-white border-4 ${isUnlocked ? 'border-green-800' : 'border-gray-400'} retro-shadow p-4 text-center`;
                
                let buttonHtml = '';
                if (isClaimed) {
                    buttonHtml = `<button class="w-full bg-gray-600 text-white font-bold py-2 px-3 retro-shadow cursor-not-allowed text-sm" disabled>Odebrano</button>`;
                } else if (canClaim) {
                    buttonHtml = `<button onclick="claimPassReward(${level})" class="click-effect w-full bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-3 retro-shadow transition-all duration-200 text-sm">Odbierz</button>`;
                } else {
                    buttonHtml = `<button class="w-full bg-gray-400 text-white font-bold py-2 px-3 retro-shadow cursor-not-allowed text-sm" disabled>Zablokowane</button>`;
                }
                
                levelCard.innerHTML = `
                    <div class="mb-3">
                        <div class="w-12 h-12 mx-auto mb-2 ${isUnlocked ? 'bg-green-800' : 'bg-gray-400'} rounded-full flex items-center justify-center">
                            <span class="text-white font-bold text-lg">${level}</span>
                        </div>
                        <p class="text-sm font-bold ${isUnlocked ? 'text-green-800' : 'text-gray-500'}">${reward}</p>
                    </div>
                    ${buttonHtml}
                `;
                
                grid.appendChild(levelCard);
            }
        }
        
        function claimPassReward(level) {
            addIntenseClickEffect(event.target);
            
            if (level <= passLevel && !claimedPassRewards.includes(level)) {
                claimedPassRewards.push(level);
                
                if (level === 30) {
                    // Special reward: Syrena 105 post
                    ownedPosts.push('Syrena 105');
                    
                    // Show special message
                    const message = document.createElement('div');
                    message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 color-explosion';
                    message.innerHTML = `
                        <h3 class="pacyfico text-xl text-green-800 mb-4">Gratulacje!</h3>
                        <p class="mb-4">Odblokowałeś ekskluzywny wpis "Syrena 105"!</p>
                        <p class="mb-4">Wpis został dodany do Twoich wpisów.</p>
                        <button onclick="addIntenseClickEffect(this); this.parentElement.remove(); showSection('wpisy');" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                            Przejdź do wpisów
                        </button>
                    `;
                    document.body.appendChild(message);
                    
                    updatePostsDisplay();
                } else {
                    // Regular reward: 80 coins
                    coins += 80;
                    totalCoinsEarned += 80;
                    
                    // Show reward message
                    const message = document.createElement('div');
                    message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 pulse-effect';
                    message.innerHTML = `
                        <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda odebrana!</h3>
                        <p class="mb-4">Otrzymałeś 80 monet z poziomu ${level}!</p>
                        <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                            OK
                        </button>
                    `;
                    document.body.appendChild(message);
                    
                    updateCoinDisplay();
                }
                
                updateMissionProgress();
                updatePassProgress();
                saveGameData();
            }
        }

        function updateMissionProgress() {
            // Update reading mission
            const readingTarget = 3;
            const readingPercent = Math.min((readingProgress / readingTarget) * 100, 100);
            
            document.getElementById('reading-stage').textContent = readingStage;
            document.getElementById('reading-target').textContent = readingTarget;
            document.getElementById('reading-target-text').textContent = readingTarget;
            document.getElementById('reading-current').textContent = readingProgress;
            document.getElementById('reading-progress').style.width = readingPercent + '%';
            
            const readingClaimBtn = document.getElementById('reading-claim');
            if (readingProgress >= readingTarget) {
                readingClaimBtn.disabled = false;
                readingClaimBtn.className = 'bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow cursor-pointer';
            } else {
                readingClaimBtn.disabled = true;
                readingClaimBtn.className = 'bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed';
            }
            
            // Update buying mission
            const buyingTarget = 1;
            const buyingPercent = Math.min((buyingProgress / buyingTarget) * 100, 100);
            
            document.getElementById('buying-stage').textContent = buyingStage;
            document.getElementById('buying-target').textContent = buyingTarget;
            document.getElementById('buying-target-text').textContent = buyingTarget;
            document.getElementById('buying-current').textContent = buyingProgress;
            document.getElementById('buying-progress').style.width = buyingPercent + '%';
            
            const buyingClaimBtn = document.getElementById('buying-claim');
            if (buyingProgress >= buyingTarget) {
                buyingClaimBtn.disabled = false;
                buyingClaimBtn.className = 'bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow cursor-pointer';
            } else {
                buyingClaimBtn.disabled = true;
                buyingClaimBtn.className = 'bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed';
            }
            
            // Update collecting mission
            const collectingTarget = collectingStage * 500;
            const collectingPercent = Math.min((totalCoinsEarned / collectingTarget) * 100, 100);
            
            document.getElementById('collecting-stage').textContent = collectingStage;
            document.getElementById('collecting-target').textContent = collectingTarget;
            document.getElementById('collecting-target-text').textContent = collectingTarget;
            document.getElementById('collecting-current').textContent = totalCoinsEarned;
            document.getElementById('collecting-progress').style.width = collectingPercent + '%';
            
            const collectingClaimBtn = document.getElementById('collecting-claim');
            if (totalCoinsEarned >= collectingTarget) {
                collectingClaimBtn.disabled = false;
                collectingClaimBtn.className = 'bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow cursor-pointer';
            } else {
                collectingClaimBtn.disabled = true;
                collectingClaimBtn.className = 'bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed';
            }
            
            // Update spending mission
            const spendingTarget = spendingStage * 500;
            const spendingPercent = Math.min((totalCoinsSpent / spendingTarget) * 100, 100);
            
            document.getElementById('spending-stage').textContent = spendingStage;
            document.getElementById('spending-target').textContent = spendingTarget;
            document.getElementById('spending-target-text').textContent = spendingTarget;
            document.getElementById('spending-current').textContent = totalCoinsSpent;
            document.getElementById('spending-progress').style.width = spendingPercent + '%';
            
            const spendingClaimBtn = document.getElementById('spending-claim');
            if (totalCoinsSpent >= spendingTarget) {
                spendingClaimBtn.disabled = false;
                spendingClaimBtn.className = 'bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow cursor-pointer';
            } else {
                spendingClaimBtn.disabled = true;
                spendingClaimBtn.className = 'bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed';
            }
            
            // Update daily gift mission
            const dailyGiftTarget = 7;
            const dailyGiftPercent = Math.min((dailyGiftsCollected / dailyGiftTarget) * 100, 100);
            
            document.getElementById('daily-gift-stage').textContent = dailyGiftStage;
            document.getElementById('daily-gift-target').textContent = dailyGiftTarget;
            document.getElementById('daily-gift-target-text').textContent = dailyGiftTarget;
            document.getElementById('daily-gift-current').textContent = dailyGiftsCollected;
            document.getElementById('daily-gift-progress').style.width = dailyGiftPercent + '%';
            
            const dailyGiftClaimBtn = document.getElementById('daily-gift-claim');
            if (dailyGiftsCollected >= dailyGiftTarget) {
                dailyGiftClaimBtn.disabled = false;
                dailyGiftClaimBtn.className = 'bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow cursor-pointer';
            } else {
                dailyGiftClaimBtn.disabled = true;
                dailyGiftClaimBtn.className = 'bg-gray-400 text-white font-bold py-2 px-4 retro-shadow cursor-not-allowed';
            }
        }

        function claimReadingReward() {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            const readingTarget = 3;
            if (readingProgress >= readingTarget) {
                const coinReward = 100;
                const creditReward = 500;
                
                coins += coinReward;
                totalCoinsEarned += coinReward;
                credits += creditReward;
                passCredits += creditReward;
                readingStage++;
                readingProgress = 0;
                
                updateCoinDisplay();
                updateMissionProgress();
                updatePassProgress();
                saveGameData();
                
                // Show reward message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 color-explosion';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda odebrana!</h3>
                    <p class="mb-4">Otrzymałeś ${coinReward} monet i ${creditReward} kredytów!</p>
                    <p class="mb-4">Następny etap: Przeczytaj 3 wpisy</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            }
        }

        function claimBuyingReward() {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            if (buyingProgress >= 1) {
                const coinReward = 30;
                const creditReward = 500;
                
                coins += coinReward;
                totalCoinsEarned += coinReward;
                credits += creditReward;
                passCredits += creditReward;
                buyingStage++;
                buyingProgress = 0;
                
                updateCoinDisplay();
                updateMissionProgress();
                updatePassProgress();
                saveGameData();
                
                // Show reward message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 bounce-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda odebrana!</h3>
                    <p class="mb-4">Otrzymałeś ${coinReward} monet i ${creditReward} kredytów!</p>
                    <p class="mb-4">Następny etap: Kup 1 wpis ze sklepu</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            }
        }

        function claimCollectingReward() {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            const collectingTarget = collectingStage * 500;
            if (totalCoinsEarned >= collectingTarget) {
                const coinReward = 100;
                const creditReward = 500;
                
                coins += coinReward;
                totalCoinsEarned += coinReward;
                credits += creditReward;
                passCredits += creditReward;
                collectingStage++;
                
                updateCoinDisplay();
                updateMissionProgress();
                updatePassProgress();
                saveGameData();
                
                const nextTarget = collectingStage * 500;
                
                // Show reward message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 flash-effect flashing';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda odebrana!</h3>
                    <p class="mb-4">Otrzymałeś ${coinReward} monet i ${creditReward} kredytów!</p>
                    <p class="mb-4">Następny etap: Uzbieraj łącznie ${nextTarget} monet</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            }
        }

        function claimSpendingReward() {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            const spendingTarget = spendingStage * 500;
            if (totalCoinsSpent >= spendingTarget) {
                const creditReward = 500;
                
                credits += creditReward;
                passCredits += creditReward;
                spendingStage++;
                
                updateCoinDisplay();
                updateMissionProgress();
                updatePassProgress();
                saveGameData();
                
                const nextTarget = spendingStage * 500;
                
                // Show reward message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 pulse-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda odebrana!</h3>
                    <p class="mb-4">Otrzymałeś ${creditReward} kredytów!</p>
                    <p class="mb-4">Następny etap: Wydaj łącznie ${nextTarget} monet</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            }
        }

        function claimDailyGiftMissionReward() {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            if (dailyGiftsCollected >= 7) {
                const creditReward = 1500;
                
                credits += creditReward;
                passCredits += creditReward;
                dailyGiftStage++;
                dailyGiftsCollected = 0; // Reset counter for next stage
                
                updateCoinDisplay();
                updateMissionProgress();
                updatePassProgress();
                saveGameData();
                
                // Show reward message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 color-explosion';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda odebrana!</h3>
                    <p class="mb-4">Otrzymałeś ${creditReward} kredytów za regularność!</p>
                    <p class="mb-4">Następny etap: Odbierz codzienny prezent przez kolejne 7 dni</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        Świetnie!
                    </button>
                `;
                document.body.appendChild(message);
            }
        }

        // Store current post title for reward system
        let currentPostTitle = '';

        function openPost(title) {
            // Dodaj efekt do klikniętego przycisku
            addIntenseClickEffect(event.target);
            
            // Store current post title
            currentPostTitle = title;
            
            // Mark as read if not already read
            if (!readPosts.includes(title)) {
                readPosts.push(title);
                readingProgress++;
                updateMissionProgress();
                saveGameData();
                
                // Update button text
                const buttonId = 'btn-' + title.replace(/\s+/g, '-');
                const button = document.getElementById(buttonId);
                if (button) {
                    button.textContent = 'Przeczytano';
                    button.className = 'w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 retro-shadow transition-all duration-200 click-effect';
                }
            }
            
            document.getElementById('post-title').textContent = title;
            
            const postContent = document.getElementById('post-content');
            
            if (title === 'Ford Mustang Fastback \'67') {
                postContent.innerHTML = `
                    <p>Ford Mustang Fastback z 1967 roku to samochód, który dla wielu stanowi kwintesencję klasycznego amerykańskiego muscle cara. To nie tylko pojazd, ale prawdziwy fragment historii motoryzacji, który do dziś budzi emocje zarówno wśród kolekcjonerów, jak i zwykłych miłośników motoryzacyjnego stylu. Rok 1967 był dla Mustanga wyjątkowy — to właśnie wtedy Ford dopracował pierwszą generację modelu, nadając mu bardziej muskularny wygląd, lepsze osiągi i charakter, który do dziś definiuje pojęcie sportowego samochodu z duszą.</p>
                    
                    <p>Stylistycznie Mustang Fastback '67 to połączenie elegancji z agresją. Nadwozie ma smukłą, ale wyraźnie poszerzoną sylwetkę w porównaniu do wcześniejszych roczników. Długa maska, krótki tył i płynnie opadająca linia dachu to esencja aerodynamiki lat sześćdziesiątych – jeszcze zanim zaczęto o niej mówić w nowoczesnych kategoriach. Przód auta to klasyka gatunku: szeroki grill z ikoną galopującego mustanga, chromowane ramki reflektorów i lekko zarysowane przetłoczenia na masce. Tył natomiast zdradza sportowe ambicje – trójdzielne lampy, masywne zderzaki i linia dachu, która płynnie schodzi ku klapie bagażnika, nadają mu niepowtarzalny charakter. Mustang z 1967 roku wygląda jak drapieżnik gotowy do skoku, nawet kiedy stoi zaparkowany.</p>
                    
                    <p>Wnętrze to typowy przykład amerykańskiego podejścia do komfortu i stylu. Siedzenia kubełkowe, obszyte skórą, głęboko osadzone zegary w metalowych ramkach i charakterystyczna kierownica z trzema ramionami tworzą atmosferę prawdziwego kokpitu kierowcy. Nie jest to jednak wnętrze z epoki luksusu – to przestrzeń, w której liczy się jazda, dźwięk silnika i poczucie panowania nad maszyną. W 1967 roku Mustang był samochodem, który łączył sportowe osiągi z codzienną użytecznością, a jego kabina doskonale to oddaje.</p>
                    
                    <p>Pod maską działo się jeszcze więcej. Ford oferował wówczas kilka wariantów silnikowych, ale to właśnie wersje z jednostkami V8 stały się legendą. Najmocniejsze konfiguracje dysponowały 6,4-litrowym silnikiem o mocy sięgającej nawet 320 koni mechanicznych. Dla tamtych czasów to była prawdziwa bestia. Sprint do setki zajmował mu niewiele ponad 6 sekund, a dźwięk wydechu był tak charakterystyczny, że nie sposób go pomylić z czymkolwiek innym. Mustang nie potrzebował turbosprężarek ani elektronicznych wspomagaczy – czysta, mechaniczna moc, przenoszona przez klasyczny, czterobiegowy manual, wystarczała, by kierowca czuł się jak król szos.</p>
                    
                    <p>Układ jezdny Mustanga z 1967 roku był oczywiście daleki od współczesnych standardów sportowych aut, ale miał w sobie coś, czego dzisiejsze samochody często nie mają – autentyczność. Twarde zawieszenie, klasyczny napęd na tył i brak nadmiernej elektroniki sprawiały, że każdy zakręt wymagał skupienia. To był samochód, który trzeba było prowadzić z sercem i umiejętnością. Mustang nagradzał kierowcę za precyzję, a jednocześnie wybaczał błędy, jeśli czuło się jego rytm. To właśnie to połączenie dzikości i kontroli sprawiło, że Fastback stał się ikoną kultury samochodowej.</p>
                    
                    <p>Nie można też pominąć faktu, że Mustang Fastback z 1967 roku był autem wyjątkowo fotogenicznym. Jego charakterystyczna sylwetka została uwieczniona w dziesiątkach filmów, z czego najbardziej znanym pozostaje „Bullitt" z 1968 roku, gdzie Steve McQueen za kierownicą zielonego Mustanga ściga się ulicami San Francisco. To ujęcie, ten dźwięk, ten moment – to wszystko sprawiło, że Mustang z '67 przeszedł do legendy kina i popkultury. Dziś to nie tylko samochód, ale symbol pewnej epoki, wolności i odwagi na drodze.</p>
                `;
            } else if (title === 'Jaguar E-Type 1963') {
                postContent.innerHTML = `
                    <p>Jaguar E-Type z 1963 roku to jeden z najbardziej charakterystycznych samochodów sportowych XX wieku. Brytyjski producent stworzył auto, które łączyło osiągi rasowego wyścigowca z elegancją i komfortem klasycznego grand tourera. Debiutując na salonie w Genewie w 1961 roku, E-Type wywołał ogromne poruszenie. W 1963 roku model ten był już dopracowany technicznie i potwierdzał swoją pozycję jako symbol stylu, precyzji i szybkości.</p>
                    
                    <p>Pod względem wyglądu Jaguar E-Type był rewolucyjny. Długa, opływowa maska, nisko osadzone nadwozie i charakterystyczna, smukła tylna część nadawały mu niezwykle aerodynamiczną sylwetkę. Auto mierzyło niespełna 4,5 metra długości, ale dzięki proporcjom wyglądało, jakby miało znacznie więcej mocy, niż sugerowały liczby. Projekt nadwozia, autorstwa Malcolma Sayera, inżyniera aerodynamicznego, był inspirowany samolotami – każdy detal miał funkcję. W efekcie powstała linia, która do dziś uchodzi za jedną z najpiękniejszych w historii motoryzacji. Enzo Ferrari miał powiedzieć, że to „najpiękniejszy samochód, jaki kiedykolwiek powstał" – i trudno się z tym nie zgodzić.</p>
                    
                    <p>Wnętrze Jaguara E-Type w 1963 roku łączyło elegancję z funkcjonalnością. Kokpit był zorientowany na kierowcę – metalowa konsola środkowa, zestaw klasycznych zegarów Smiths, cienka kierownica z drewnianym wieńcem i skórzane fotele zapewniały nie tylko komfort, ale i doskonałą pozycję za kierownicą. W tamtym okresie niewiele aut oferowało tak wysoką jakość wykonania w połączeniu z prawdziwie sportowym charakterem. E-Type był samochodem, w którym można było zarówno wziąć udział w rajdzie, jak i pojechać w długą trasę po Europie.</p>
                    
                    <p>Sercem modelu był sześciocylindrowy, rzędowy silnik o pojemności 3,8 litra. Jednostka generowała 265 koni mechanicznych i pozwalała osiągnąć prędkość maksymalną około 240 km/h. Sprint od 0 do 100 km/h zajmował około 7 sekund, co jak na początek lat 60. było wynikiem imponującym. Napęd przenoszony był na tylne koła za pośrednictwem czterobiegowej skrzyni manualnej. Wersja z 1963 roku była szczególnie ceniona za swoje prowadzenie – niezależne zawieszenie tylne i precyzyjny układ kierowniczy sprawiały, że samochód zachowywał się stabilnie nawet przy dużych prędkościach, co w tamtych czasach nie było oczywistością.</p>
                    
                    <p>W porównaniu z konkurencją, Jaguar E-Type oferował niezwykle korzystny stosunek ceny do osiągów. O ile włoskie samochody sportowe były wtedy ekskluzywnym towarem, E-Type był relatywnie dostępny – a przy tym dawał podobne emocje z jazdy. Zawdzięczał to doświadczeniu Jaguara w wyścigach, zwłaszcza w modelach D-Type, które dominowały w Le Mans. Wiele rozwiązań technicznych, takich jak aerodynamiczny kształt karoserii, niskie zawieszenie i hamulce tarczowe, trafiło do E-Type'a wprost z toru wyścigowego.</p>
                    
                    <p>Jazda tym samochodem to doświadczenie, które łączy precyzję z surowością klasycznej motoryzacji. Silnik reaguje błyskawicznie na dodanie gazu, dźwięk jednostki jest pełny i mechaniczny, a przyspieszenie – płynne, ale zdecydowane. Zawieszenie, choć twarde, doskonale radzi sobie z zakrętami, a przy wyższych prędkościach samochód zachowuje zadziwiającą stabilność. To auto, które wymaga od kierowcy uwagi, ale też daje pełne poczucie kontroli.</p>
                    
                    <p>W 1963 roku Jaguar E-Type dostępny był zarówno jako dwuosobowe coupé, jak i roadster z miękkim dachem. Obie wersje cieszyły się dużym zainteresowaniem, a ich wspólną cechą był charakter – sportowy, ale z klasą. Nie był to samochód brutalny jak amerykańskie muscle cary, lecz elegancki i precyzyjny, skonstruowany z myślą o europejskich drogach.</p>
                    
                    <p>Dziś Jaguar E-Type 3.8 z 1963 roku to nie tylko klasyk, ale także obiekt kolekcjonerski, którego wartość stale rośnie. Jego połączenie wyglądu, osiągów i historii sprawia, że jest jednym z najczęściej przywoływanych przykładów idealnego balansu między formą a funkcją. To samochód, który nie potrzebuje przesady, by imponować.</p>
                `;
            } else if (title === 'Dodge Charger R/T 1969') {
                postContent.innerHTML = `
                    <p>Dodge Charger R/T z 1969 roku to jeden z najbardziej rozpoznawalnych muscle carów w historii amerykańskiej motoryzacji. Był rozwinięciem koncepcji przedstawionej dwa lata wcześniej i jednym z najdoskonalszych przykładów tego, jak w końcówce lat sześćdziesiątych rozumiano pojęcie mocy, stylu i osiągów. Charger w wersji R/T (Road/Track) stanowił topową odmianę modelu, zaprojektowaną z myślą o kierowcach, którzy oczekiwali prawdziwych sportowych wrażeń, ale wciąż w granicach samochodu drogowego.</p>
                    
                    <p>Stylistycznie rocznik 1969 był ewolucją w stosunku do poprzedniego roku, lecz wprowadzono kilka kluczowych zmian. Przód auta otrzymał nowy grill z pełną czarną osłoną i ruchomymi klapkami zasłaniającymi reflektory – rozwiązanie, które nadawało mu agresywny, spójny wygląd. Linia boczna pozostała muskularna, z wyraźnie zaznaczonymi błotnikami i długą, opadającą linią dachu typu fastback. Charakterystyczny „Coke bottle shape", czyli nadwozie o kształcie przypominającym butelkę Coca-Coli, podkreślał szerokie nadkola i wąskie przetłoczenie w środkowej części karoserii. Tył zyskał nowy panel z dwiema prostokątnymi lampami i dużym, chromowanym napisem „CHARGER", który stał się jednym z najbardziej rozpoznawalnych elementów modelu. Całość była osadzona na potężnych, 15-calowych kołach, co jeszcze bardziej wzmacniało jego masywny charakter.</p>
                    
                    <p>Wnętrze Dodge'a Chargera R/T 1969 kontynuowało styl amerykańskich grand tourerów. Kabina była przestronna i wykończona z myślą o komforcie, ale bez utraty sportowego duchu. Duża kierownica, prosty zestaw zegarów i szeroka konsola środkowa podkreślały charakter auta stworzonego do jazdy z dużą prędkością. Fotele kubełkowe zapewniały solidne podparcie, a tylna kanapa była pełnowymiarowa, co sprawiało, że Charger pozostawał praktycznym samochodem na co dzień – mimo swoich sportowych ambicji.</p>
                    
                    <p>Pod maską wersji R/T kryło się to, co uczyniło Chargera legendą. Standardowo montowano silnik Magnum 440 V8 o pojemności 7,2 litra, rozwijający moc 375 koni mechanicznych i moment obrotowy 651 Nm. W połączeniu z czterobiegową skrzynią manualną lub automatyczną Torqueflite, auto przyspieszało od 0 do 100 km/h w około 6 sekund, a prędkość maksymalna sięgała 210 km/h. Dla najbardziej wymagających klientów dostępna była również legendarna jednostka Hemi 426 V8 o mocy 425 koni mechanicznych, która przenosiła Chargera na zupełnie inny poziom osiągów. Ten silnik pozwalał osiągać 100 km/h w nieco ponad 5 sekund i był jednym z najmocniejszych napędów oferowanych w seryjnych samochodach swojej epoki.</p>
                    
                    <p>Napęd na tylną oś, klasyczne zawieszenie na resorach piórowych i sztywny most tylny nadawały Chargerowi charakter typowego muscle cara – potężny moment obrotowy przenoszony był brutalnie, bez elektronicznych wspomagaczy, co wymagało od kierowcy pewnej ręki. Auto najlepiej czuło się na prostych odcinkach, gdzie jego potęga mogła w pełni się ujawnić. Mimo to, jak na tamte czasy, prowadzenie było zaskakująco stabilne, zwłaszcza w wersjach z opcjonalnym pakietem „Track Pak", który obejmował wzmocniony dyferencjał i lepsze przełożenia przekładni.</p>
                    
                    <p>Charger R/T 1969 był samochodem, który łączył surową siłę z elegancją amerykańskiego stylu. W porównaniu do innych muscle carów, takich jak Chevrolet Chevelle SS czy Ford Torino Cobra, wyróżniał się bardziej dopracowaną aerodynamiką i lepszym wyważeniem nadwozia. To sprawiło, że stał się nie tylko ulubieńcem ulicznych wyścigów, ale też atrakcyjną bazą dla modyfikacji. Wersje Hemi należą dziś do najbardziej pożądanych klasyków w historii Dodge'a.</p>
                    
                    <p>Rok 1969 przyniósł też moment, który na zawsze wpisał Chargera do popkultury – jego występ w filmie „Bullitt" u boku Forda Mustanga Steve'a McQueena oraz później w serialu „The Dukes of Hazzard". Te produkcje sprawiły, że czarny i pomarańczowy Charger z charakterystycznym profilem stały się ikonami ekranu.</p>
                `;
            } else if (title === 'Chevrolet Bel Air 1955') {
                postContent.innerHTML = `
                    <p>Chevrolet Bel Air z 1955 roku to samochód, który na zawsze odmienił wizerunek amerykańskiej motoryzacji. Był nie tylko nowym modelem – był początkiem nowej ery dla General Motors. W momencie debiutu Bel Air '55 przyciągał uwagę odważnym, nowoczesnym wyglądem, nową konstrukcją i pierwszym w historii Chevroleta silnikiem V8, który zapewnił mu miejsce w panteonie klasyków. To auto stało się symbolem optymizmu powojennej Ameryki, w której droga, chrom i wolność znaczyły więcej niż kiedykolwiek wcześniej.</p>
                    
                    <p>Stylistycznie Chevrolet Bel Air z 1955 roku był radykalną zmianą względem swoich poprzedników. Zamiast ciężkiego, masywnego nadwozia otrzymał lekką, nowoczesną sylwetkę o wyraźnych liniach i proporcjach, które od razu przyciągały wzrok. Przód zdobił szeroki, chromowany grill z charakterystyczną poziomą belką i centralnym emblematem Chevroleta. Reflektory umieszczono wysoko, a maska miała delikatne przetłoczenia, które nadawały autu dynamiki. Tylna część nadwozia z lekko zarysowanymi płetwami była zapowiedzią stylu, który zdominuje kolejne lata. Dwukolorowe malowania, bogate w kontrasty – na przykład niebiesko-białe czy czerwono-kremowe – podkreślały elegancję i lekkość projektu. W tamtym czasie Bel Air był symbolem klasy średniej, która zaczynała marzyć o luksusie i designie z wyższej półki.</p>
                    
                    <p>Wnętrze samochodu było równie nowoczesne jak jego karoseria. Chevrolet postawił na styl i komfort, które wcześniej kojarzyły się głównie z droższymi markami. Deska rozdzielcza miała opływowe kształty i duże, czytelne zegary. Kierownica z cienkim wieńcem i metalowym środkiem wyglądała lekko, a zestaw chromowanych detali dodawał całości prestiżu. Fotele były szerokie i miękkie, przystosowane do długich podróży, a zastosowanie żywych kolorów tapicerki – od czerwieni po turkus – idealnie wpisywało się w estetykę lat pięćdziesiątych. Bel Air nie był sportowym autem, ale oferował wyjątkowy komfort i przestrzeń, co czyniło go idealnym wyborem dla rodzin i kierowców ceniących elegancką codzienność.</p>
                    
                    <p>Pod maską Chevroleta Bel Air z 1955 roku znajdowało się serce, które zdefiniowało nową generację samochodów marki – silnik V8 o pojemności 4,3 litra, znany jako "small-block". Generował on moc od 162 do 180 koni mechanicznych, w zależności od wersji, i był połączony z trzybiegową skrzynią manualną lub automatyczną Powerglide. Dzięki tej jednostce Bel Air zyskał zupełnie nowe oblicze – dynamiczne, elastyczne i przyjemne w prowadzeniu. Samochód przyspieszał do 100 km/h w około 11 sekund, co jak na połowę lat 50. było wynikiem bardzo dobrym. Silnik V8 charakteryzował się nie tylko mocą, ale i niezawodnością, dzięki czemu szybko stał się legendą wśród mechaników i kierowców.</p>
                    
                    <p>Nowy układ ramy, niezależne zawieszenie przednie i udoskonalony system hamulcowy sprawiały, że Bel Air prowadził się lepiej niż większość amerykańskich samochodów z tamtego okresu. Jazda była płynna i stabilna, a wnętrze dobrze wyciszone, co czyniło go samochodem idealnym zarówno do miasta, jak i na długie trasy. Chevrolet trafił w sedno – stworzył auto, które wyglądało luksusowo, jeździło pewnie i pozostawało przystępne cenowo.</p>
                    
                    <p>Bel Air z 1955 roku szybko stał się ikoną popkultury. Występował w filmach, na plakatach i w reklamach, symbolizując styl życia Ameryki lat pięćdziesiątych – epokę jukeboxów, drive-inów i wolności na szerokich drogach. Wersje coupe i kabriolet cieszyły się ogromnym zainteresowaniem, a charakterystyczny błysk chromu i dwukolorowe lakierowanie uczyniły z Bel Aira motoryzacyjny znak rozpoznawczy swojej epoki. Wraz z modelami z 1956 i 1957 roku stworzył tak zwaną „Tri-Five Chevy Trilogy", czyli trzyletnią serię, którą do dziś uważa się za złoty okres dla marki Chevrolet.</p>
                `;
            } else if (title === 'Porsche 911 Carrera 1973') {
                postContent.innerHTML = `
                    <p>Porsche 911 Carrera z 1973 roku to samochód, który ugruntował pozycję niemieckiej marki jako jednego z liderów sportowej motoryzacji. To właśnie w tym okresie 911 przeszło z etapu obiecującego następcy modelu 356 do pełnoprawnej ikony. Rok 1973 był szczególny, ponieważ na drogi trafiła wersja Carrera RS 2.7 – model, który do dziś uchodzi za jeden z najdoskonalszych przykładów klasycznego Porsche, łączący lekkość, precyzję i czystą mechanikę jazdy bez zbędnych udogodnień.</p>
                    
                    <p>Stylistycznie Porsche 911 Carrera z 1973 roku zachowało charakterystyczną dla serii sylwetkę z zaokrąglonymi błotnikami, niską maską i opadającym tyłem. To klasyczny kształt „żabki", który mimo upływu lat pozostał niemal niezmieniony w ogólnym zarysie. W wersji Carrera RS 2.7 pojawiły się jednak detale, które od razu wyróżniały ten model. Najbardziej rozpoznawalny był niewielki spojler na tylnej klapie – tzw. „ducktail", czyli kaczuszka. Ten element nie był tylko ozdobą – znacząco poprawiał docisk tylnej osi przy dużych prędkościach, co w samochodzie o napędzie na tył miało ogromne znaczenie. Charakterystyczne były też naklejki boczne z napisem „Carrera" i lekkie zderzaki z tworzywa, wprowadzone w miejsce wcześniejszych chromowanych elementów, co pomogło zredukować masę pojazdu.</p>
                    
                    <p>Wnętrze Porsche 911 z tamtych lat to połączenie prostoty i funkcjonalności typowej dla niemieckiej szkoły projektowania. Kierowca miał przed sobą pięć dużych, okrągłych zegarów, z centralnie umieszczonym obrotomierzem – symbol filozofii Porsche, gdzie liczy się precyzja prowadzenia, a nie tylko prędkość. Fotele kubełkowe zapewniały doskonałe trzymanie boczne, a całość była wykonana z lekkich, solidnych materiałów, bez zbędnych ozdobników. To wnętrze stworzone do jazdy, a nie do pokazów. W wersjach sportowych zrezygnowano nawet z niektórych wygód, takich jak tylne siedzenia czy wyciszenie, by uzyskać jak najniższą masę – samochód ważył zaledwie około 975 kilogramów.</p>
                    
                    <p>Pod względem mechanicznym 911 Carrera 2.7 było prawdziwym arcydziełem inżynierii. Sześciocylindrowy, chłodzony powietrzem silnik typu bokser o pojemności 2,7 litra generował 210 koni mechanicznych przy 6300 obr./min. Dzięki temu auto osiągało prędkość maksymalną około 240 km/h, a przyspieszenie od 0 do 100 km/h zajmowało nieco ponad 5,5 sekundy – wartości imponujące nawet dziś. Napęd na tylne koła w połączeniu z pięciobiegową skrzynią manualną i bardzo niską masą nadawały mu niezwykłej zwinności. Dla wielu kierowców 911 z tamtych lat było autem wymagającym – jego charakterystyczne rozłożenie masy sprawiało, że tylna oś łatwo traciła przyczepność, ale w rękach doświadczonego kierowcy samochód nagradzał perfekcyjnym wyczuciem drogi i reakcją na każdy ruch kierownicy.</p>
                    
                    <p>Zawieszenie Porsche 911 Carrera opierało się na układzie z drążkami skrętnymi i amortyzatorach Bilstein, co zapewniało wyjątkową stabilność i precyzję prowadzenia. Hamulce tarczowe na wszystkich kołach, wzmocnione i wentylowane, pozwalały skutecznie zatrzymać auto nawet po intensywnej jeździe torowej. Wszystko to razem czyniło z 911 Carrery z 1973 roku samochód, który łączył codzienną użyteczność z prawdziwie sportowymi osiągami. Był to pojazd, który można było prowadzić po publicznych drogach, ale też z powodzeniem wystawić w wyścigu.</p>
                    
                    <p>Rok 1973 był także symboliczny – to właśnie w tym czasie Porsche pożegnało erę klasycznych, lekkich modeli przed wprowadzeniem bardziej komfortowych wersji z drugiej połowy dekady. Carrera RS 2.7 była ostatnim „czystym" 911 w klasycznym rozumieniu – stworzonym przede wszystkim z myślą o kierowcy i jego bezpośrednim kontakcie z maszyną. Samochód powstał głównie po to, by homologować go do wyścigów w grupie 4, ale popyt na wersję drogową okazał się tak duży, że zamiast planowanych 500 egzemplarzy wyprodukowano ponad 1500 sztuk.</p>
                `;
            } else if (title === 'Alfa Romeo Spider 1966') {
                postContent.innerHTML = `
                    <p>Alfa Romeo Spider z 1966 roku to jeden z najbardziej rozpoznawalnych włoskich roadsterów lat sześćdziesiątych. Model ten, debiutujący w wersji Duetto, szybko zdobył uznanie dzięki połączeniu lekkiej konstrukcji, atrakcyjnego wyglądu i przyjemności z prowadzenia. Spider powstał w momencie, gdy włoska marka stawiała na samochody sportowe dostępne także dla szerszej grupy kierowców, którzy szukali auta do codziennej jazdy i weekendowych wyjazdów.</p>
                    
                    <p>Stylistyka Spidera jest jedną z jego najsilniejszych cech. Projekt Pininfariny wyróżniał się prostotą, proporcjami i charakterystycznym, lekko opadającym tyłem. Długa, smukła maska i nisko osadzone nadwozie tworzyły elegancką sylwetkę, a okrągłe reflektory i chromowane detale podkreślały klasyczny włoski styl. Roadster był stosunkowo niewielki – długość wynosiła około 3,9 metra – co w połączeniu z lekką karoserią dawało dobre wyważenie i poprawiało prowadzenie. Dwumiejscowa kabina z minimalistycznym wnętrzem dopełniała sportowy charakter auta, pozostając jednocześnie komfortową i funkcjonalną.</p>
                    
                    <p>Wnętrze Spidera 1966 było proste i skoncentrowane na kierowcy. Kokpit posiadał zestaw podstawowych zegarów, skórzaną kierownicę oraz wygodne, nisko osadzone fotele kubełkowe. Całość była ergonomiczna i dostosowana do dynamicznej jazdy, jednocześnie zachowując włoską elegancję wykończenia. Materiały użyte w kabinie, choć nie luksusowe w dzisiejszym rozumieniu, były trwałe i estetyczne, a minimalistyczny design pozwalał skupić się na prowadzeniu.</p>
                    
                    <p>Pod maską Alfa Romeo Spider 1966 znajdował się czterocylindrowy silnik Twin Cam o pojemności 1,6 litra, generujący około 108 koni mechanicznych. W połączeniu z pięciobiegową skrzynią manualną pozwalał samochodowi osiągać prędkość maksymalną około 180 km/h, a przyspieszenie od 0 do 100 km/h zajmowało około 10 sekund. Dzięki niewielkiej masie auta – około 900 kilogramów – Spider był zwinny i precyzyjny w prowadzeniu. Napęd na tylne koła oraz sztywne, choć dobrze zestrojone zawieszenie sprawiały, że samochód był bardzo przewidywalny w zakrętach i dawał kierowcy pełną kontrolę nad pojazdem.</p>
                    
                    <p>Alfa Romeo Spider z 1966 roku była również samochodem wszechstronnym. Roadster dobrze radził sobie w codziennej eksploatacji, oferując komfortowe wnętrze i rozsądną przestrzeń bagażową jak na tego typu auto. Jednocześnie był przygotowany do dynamicznej jazdy po krętych drogach, co czyniło go popularnym wyborem wśród kierowców poszukujących auta zarówno do miasta, jak i na weekendowe wyjazdy.</p>
                    
                    <p>Model Duetto szybko zyskał rozgłos dzięki udziałowi w kulturze popularnej, m.in. w filmie „The Graduate" z 1967 roku, który dodatkowo utrwalił jego wizerunek jako klasycznego włoskiego roadstera. Spider był symbolem lekkości, zwinności i elegancji w motoryzacji lat sześćdziesiątych, jednocześnie oferując osiągi, które pozwalały konkurować z innymi europejskimi samochodami sportowymi tej klasy.</p>
                    
                    <p>Dziś Alfa Romeo Spider 1966 jest cenionym klasykiem. Zachowuje charakterystyczną stylistykę i proporcje, a prowadzenie wciąż dostarcza przyjemności z jazdy, którą doceniali pierwsi właściciele. To samochód, który łączy włoską elegancję z funkcjonalnością i sportowym duchem, będąc przykładem dopracowanego roadstera z lat sześćdziesiątych.</p>
                `;
            } else if (title === 'Fiat 125p') {
                postContent.innerHTML = `
                    <p class="text-center italic">Treść pojawi się już wkrótce...</p>
                `;
            } else if (title === 'Lancia Delta') {
                postContent.innerHTML = `
                    <p class="text-center italic">Treść pojawi się już wkrótce...</p>
                `;
            } else if (title === 'Nysa 522') {
                postContent.innerHTML = `
                    <p class="text-center italic">Treść pojawi się już wkrótce...</p>
                `;
            } else if (title === 'Syrena 105') {
                postContent.innerHTML = `
                    <p class="text-center italic">Treść już wkrótce...</p>
                `;
            } else if (title === 'Mercedes-Benz 300SL Gullwing 1955') {
                postContent.innerHTML = `
                    <p>Mercedes-Benz 300SL Gullwing z 1955 roku to samochód, który do dziś budzi respekt zarówno wśród kolekcjonerów, jak i miłośników motoryzacji. To nie tylko elegancki klasyk, ale też maszyna, która w połowie lat 50. była absolutnym szczytem technologii. Powstał na bazie wyścigowego modelu 300SL z Le Mans, a jego konstrukcja i osiągi były wręcz kosmiczne jak na swoje czasy.</p>
                    
                    <p>Najbardziej rozpoznawalnym elementem auta są charakterystyczne drzwi otwierane do góry – stąd przydomek „Gullwing", czyli „skrzydła mewy". Nie były one jednak tylko efektem designerskiego szaleństwa, ale wynikały z samej budowy samochodu. 300SL miał ramę przestrzenną z cienkich, stalowych rur, wyjątkowo lekką i sztywną. Niestety, jej boczne elementy znajdowały się tak wysoko, że tradycyjne drzwi byłyby niemożliwe do zastosowania. Inżynierowie Mercedesa musieli więc wymyślić coś nowego – i tak narodził się jeden z najbardziej ikonicznych projektów w historii motoryzacji.</p>
                    
                    <p>Sylwetka 300SL jest wyjątkowo smukła i aerodynamiczna. Długi przód, krótki tył i mocno pochylona maska sprawiają, że samochód wygląda jakby był w ruchu nawet stojąc w miejscu. W latach 50. taki wygląd robił gigantyczne wrażenie – większość aut tamtego okresu była bardziej kanciasta i konserwatywna. Mercedes postawił na nowoczesne linie i niską sylwetkę, co nie tylko poprawiało aerodynamikę, ale też budowało wizerunek sportowego luksusu. Chromowane detale, duża gwiazda Mercedesa na masce i elegancko wyprofilowane błotniki dodawały mu klasy, której nie da się pomylić z żadnym innym autem.</p>
                    
                    <p>Pod maską 300SL krył się sześciocylindrowy silnik o pojemności 3 litrów, ale nie to było najważniejsze – kluczową nowością było zastosowanie mechanicznego wtrysku paliwa. To był absolutny przełom w 1955 roku, bo większość samochodów wciąż korzystała z gaźników. Wtrysk zwiększał moc i poprawiał reakcję na gaz, dzięki czemu 300SL generował około 215 koni mechanicznych. Dla porównania, typowe auta sportowe tamtego okresu ledwo przekraczały 100 KM. To pozwalało Mercedesowi rozpędzać się do 100 km/h w około 8 sekund i osiągać prędkość maksymalną na poziomie 250 km/h. Dziś to nadal robi wrażenie, a 70 lat temu był to wynik wręcz szokujący.</p>
                    
                    <p>Zawieszenie samochodu oparto na niezależnych wahaczach, co poprawiało prowadzenie i stabilność w zakrętach. Jednak nie był to pojazd łatwy w prowadzeniu – tylny układ z wahaczami skośnymi potrafił być zdradliwy, zwłaszcza przy dużych prędkościach. Wielu kierowców wspominało, że 300SL wymagał mocnej ręki i pełnego skupienia. Ale jeśli ktoś potrafił nad nim zapanować, dostawał w zamian czystą przyjemność z jazdy i osiągi, które mogły zawstydzić większość ówczesnych samochodów sportowych.</p>
                    
                    <p>Wnętrze auta łączyło luksus z funkcjonalnością. Kabina była ciasna, ale dopracowana w każdym szczególe – skórzane fotele, chromowane akcenty i metalowa deska rozdzielcza tworzyły klimat prawdziwego auta z wyścigowym DNA. Kierownica była składana, żeby ułatwić wsiadanie – konieczność wynikająca z wysokich progów i specyficznych drzwi. Mimo sportowego charakteru, 300SL oferował wysoki poziom komfortu jak na swoje czasy, co czyniło go jednym z pierwszych supersamochodów „do codziennej jazdy".</p>
                    
                    <p>Ciekawostką jest, że Mercedes-Benz 300SL Gullwing był też jednym z pierwszych samochodów z pełnym nadwoziem wykonanym z lekkiej stali i aluminium (w wersji opcjonalnej). Dzięki temu masa auta wynosiła zaledwie około 1295 kg, co znacząco poprawiało osiągi. Każdy egzemplarz był składany ręcznie, a jakość wykonania – typowa dla Mercedesa – była perfekcyjna.</p>
                    
                    <p>Dzisiaj 300SL Gullwing to coś więcej niż tylko klasyk – to motoryzacyjna legenda. Jego wygląd, osiągi i rozwiązania techniczne wyprzedzały epokę o całe dekady. Choć powstało nieco ponad 1400 egzemplarzy, każdy z nich ma status dzieła sztuki na kołach. Współczesne modele Mercedesa AMG wciąż nawiązują do tego samochodu – zarówno w stylistyce, jak i w idei łączenia luksusu z ekstremalnymi osiągami.</p>
                `;
            } else if (title === 'Toyota 2000GT 1967') {
                postContent.innerHTML = `
                    <p>Toyota 2000GT z 1967 roku to samochód, który całkowicie odmienił sposób, w jaki świat patrzył na japońską motoryzację. Do tamtej pory Japonia kojarzyła się z małymi, ekonomicznymi autami – praktycznymi, ale pozbawionymi emocji. 2000GT była jak grom z jasnego nieba: niska, zmysłowa i szybka. To był moment, w którym Toyota pokazała, że potrafi zbudować prawdziwy samochód sportowy klasy światowej.</p>
                    
                    <p>Sylwetka 2000GT od razu przyciąga uwagę. Nadwozie jest długie, niskie i płynne w liniach, z charakterystyczną maską i mocno wyprofilowanymi błotnikami. Widać w niej inspirację europejskimi projektami, zwłaszcza Jaguarami i Ferrari tamtych lat, ale Toyota dodała coś od siebie – japońską precyzję i minimalizm. Auto mierzyło zaledwie 117 cm wysokości, co czyniło je jednym z najniższych samochodów produkcyjnych w historii. Całość była zbudowana z aluminium, dzięki czemu ważyła tylko około 1100 kilogramów. Każdy egzemplarz był ręcznie montowany przez firmę Yamaha, która wówczas współpracowała z Toyotą przy budowie silników i elementów nadwozia.</p>
                    
                    <p>Serce 2000GT to sześciocylindrowy silnik rzędowy o pojemności 2 litrów, bazujący na jednostce z modelu Toyota Crown, ale gruntownie zmodyfikowany. Yamaha dorzuciła swoje know-how, montując głowicę DOHC i zwiększając stopień sprężania. Efekt? Około 150 koni mechanicznych przy 6600 obrotach na minutę. Może nie brzmi to dziś imponująco, ale w 1967 roku to był wynik bardzo solidny – zwłaszcza w połączeniu z niską masą. Auto rozpędzało się do setki w nieco ponad 8 sekund i osiągało prędkość maksymalną 220 km/h, co stawiało je na równi z Porsche 911 czy Jaguarem E-Type.</p>
                    
                    <p>Napęd na tył, pięciobiegowa manualna skrzynia i niezależne zawieszenie na wszystkich kołach sprawiały, że Toyota prowadziła się zaskakująco dobrze. Nie była tylko ładnym nadwoziem – miała prawdziwie sportowy charakter. Układ kierowniczy był precyzyjny, a niskie położenie środka ciężkości zapewniało świetne zachowanie w zakrętach. W testach z tamtego okresu dziennikarze porównywali ją do najlepszych aut z Europy, często podkreślając, że Toyota 2000GT jest nie tylko równie dobra, ale i bardziej dopracowana w detalach.</p>
                    
                    <p>Wnętrze samochodu to połączenie sportu i elegancji w japońskim stylu. Deska rozdzielcza wykonana była z prawdziwego drewna różanego, a wszystkie zegary i przełączniki rozmieszczono symetrycznie i z dbałością o ergonomię. Fotele były nisko osadzone, a kabina dość ciasna, ale bardzo dopracowana. Nie było tu miejsca na zbędne ozdoby – wszystko miało swoje funkcjonalne uzasadnienie. Wrażenie robił też poziom wykonania. Każdy element wyglądał tak, jakby ktoś go dopieścił ręcznie, a w pewnym sensie tak właśnie było.</p>
                    
                    <p>Toyota 2000GT była autem wyjątkowym również dlatego, że powstało zaledwie 351 egzemplarzy. Każdy z nich był praktycznie unikatowy. Produkcja była niezwykle kosztowna, bo ręczne wykonanie aluminiowego nadwozia wymagało ogromnej precyzji i czasu. Toyota nie zarabiała na tym samochodzie – chodziło raczej o pokazanie światu, że Japonia potrafi budować coś więcej niż tanie sedany. I udało się – 2000GT stała się wizytówką całej japońskiej motoryzacji.</p>
                    
                    <p>Model zyskał rozgłos także dzięki filmowi o Jamesie Bondzie – „You Only Live Twice". Wystąpiła tam specjalnie przerobiona wersja 2000GT w odmianie kabriolet, przygotowana dla aktorki, która nie mieściła się do standardowego coupe. To wystarczyło, żeby Toyota 2000GT stała się jednym z najbardziej rozpoznawalnych samochodów świata.</p>
                    
                    <p>Osiągi, wygląd i technika to jedno, ale 2000GT ma w sobie coś jeszcze – duszę. To samochód, który był symbolem ambicji całego kraju. Japończycy nie chcieli już tylko naśladować Zachodu, chcieli dorównać najlepszym, a nawet ich przegonić. Ten model był początkiem drogi, która później doprowadziła do powstania takich ikon jak Supra, NSX czy Skyline GT-R.</p>
                `;
            } else if (title === 'Pontiac GTO 1967') {
                postContent.innerHTML = `
                    <p>Pontiac GTO z 1967 roku to kwintesencja amerykańskiego „muscle cara" – bezkompromisowego auta stworzonego po to, żeby wyglądać groźnie i jeździć jeszcze groźniej. To nie był samochód dla grzecznych kierowców. GTO był głośny, brutalny i surowy, ale właśnie to sprawiało, że każdy chciał nim jeździć. W drugiej połowie lat 60. Pontiac GTO stał się symbolem mocy, wolności i czystej benzynowej adrenaliny.</p>
                    
                    <p>Rok 1967 przyniósł GTO subtelne, ale trafione zmiany stylistyczne. Nadwozie zyskało bardziej opływowe linie i charakterystyczny, dzielony grill, który wyglądał jakby samochód cały czas się uśmiechał z pewną zadziornością. Reflektory ułożono pionowo, co nadawało mu agresywniejszego spojrzenia, a tył auta zakończono eleganckim, ale muskularnym panelem z poziomymi światłami. Całość miała proporcje klasycznego „muscle'a" – długi przód, krótki tył i nisko osadzona kabina. Na ulicy wyglądał jak drapieżnik gotowy do ataku.</p>
                    
                    <p>Pod maską działo się to, co w GTO zawsze było najważniejsze – czysta moc. Standardem był silnik V8 o pojemności 400 cali sześciennych, czyli około 6,6 litra. W zależności od wersji generował od 255 do nawet 360 koni mechanicznych, co w latach 60. było wynikiem, który potrafił zmiatać konkurencję z drogi. W połączeniu z czterobiegową manualną skrzynią (albo opcjonalnym automatem Turbo-Hydramatic), GTO potrafił rozpędzić się do setki w około 6 sekund. W tamtym czasie takie przyspieszenie miały tylko prawdziwe potwory – a Pontiac robił to przy pełnej wygodzie i z radiem w środku.</p>
                    
                    <p>Moment obrotowy przekraczał 600 Nm, więc nawet lekkie wciśnięcie gazu potrafiło zamienić tylne opony w chmurę dymu. GTO nie udawał auta sportowego – on nim po prostu był. Nie był stworzony do precyzyjnej jazdy po zakrętach, tylko do prostych, długich dróg i do pokazania, kto tu rządzi. Przyspieszenie było brutalne, dźwięk V8 – głęboki i donośny, a reakcja na gaz – natychmiastowa. Ten samochód nie znał pojęcia „subtelność".</p>
                    
                    <p>W 1967 roku Pontiac poprawił też zawieszenie i hamulce, co znacząco zwiększyło stabilność. Po raz pierwszy można było zamówić przednie tarcze hamulcowe, co było ogromnym krokiem naprzód w kwestii bezpieczeństwa. Zmieniono też układ kierowniczy, który stał się bardziej precyzyjny – choć nadal był typowo amerykański: lekki i komfortowy. Na prostej GTO był królem, ale na krętej drodze wymagał respektu i wyczucia.</p>
                    
                    <p>Wnętrze to klasyka lat 60. – proste, ale efektowne. Deska rozdzielcza z okrągłymi zegarami, chromowane detale i miękkie fotele obite winylem tworzyły klimat luksusu po amerykańsku. Kierowca siedział nisko, miał przed sobą duży, trójramienny wolant i dźwignię zmiany biegów z charakterystycznym, metalowym kliknięciem. Nie było tu technologicznych cudów – wszystko sprowadziło się do czystej, mechanicznej przyjemności z jazdy.</p>
                    
                    <p>Pontiac GTO z 1967 roku to samochód, który definiował całą epokę. Był symbolem amerykańskiej motoryzacji w jej najlepszym wydaniu – potężny, charakterystyczny i absolutnie bezkompromisowy. To auto, które nie próbowało być niczym innym, niż było – czystą mocą na czterech kołach.</p>
                `;
            }
            
            showSection('post');
        }

        function returnToPostsWithReward() {
            // Check if current post should give reading reward
            if (currentPostTitle && !readPostsRewarded.includes(currentPostTitle)) {
                // Add to rewarded posts
                readPostsRewarded.push(currentPostTitle);
                
                // Give reward
                credits += 200;
                passCredits += 200;
                
                // Update displays
                updateCoinDisplay();
                updatePassProgress();
                saveGameData();
                
                // Create confetti
                createConfetti();
                
                // Show reward message
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 bounce-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-green-800 mb-4">Nagroda za czytanie!</h3>
                    <p class="mb-4">Otrzymałeś 200 kredytów za przeczytanie wpisu "${currentPostTitle}"!</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove(); showSection('wpisy');" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            } else {
                // No reward, just go back
                showSection('wpisy');
            }
            
            // Clear current post
            currentPostTitle = '';
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadGameData();
            updateCoinDisplay();
            updatePostsDisplay();
            updateShopDisplay();
            updateMissionProgress();
            updatePassProgress();
            checkDailyGiftAvailability();
            startDailyGiftCountdown();
            showSection('wpisy');
        });
        
        // Daily gift functions
        function checkDailyGiftAvailability() {
            const now = Date.now();
            const timeDiff = now - lastDailyGiftTime;
            const twentyFourHours = 24 * 60 * 60 * 1000; // 24 godziny w milisekundach
            
            if (timeDiff >= twentyFourHours) {
                dailyGiftAvailable = true;
            } else {
                dailyGiftAvailable = false;
            }
            
            updateDailyGiftDisplay();
        }
        
        function updateDailyGiftDisplay() {
            const content = document.getElementById('daily-gift-content');
            
            if (dailyGiftAvailable) {
                content.innerHTML = `
                    <p class="text-white font-bold mb-4">Odbierz swój darmowy prezent!</p>
                    <button id="claim-daily-gift" onclick="startDailyGiftLottery()" class="click-effect bg-green-800 hover:bg-green-700 text-white font-bold py-3 px-6 retro-shadow transition-all duration-200 text-lg">
                        LOSUJ PREZENT!
                    </button>
                `;
            } else {
                const now = Date.now();
                const timeDiff = now - lastDailyGiftTime;
                const twentyFourHours = 24 * 60 * 60 * 1000;
                const timeLeft = twentyFourHours - timeDiff;
                
                const hours = Math.floor(timeLeft / (60 * 60 * 1000));
                const minutes = Math.floor((timeLeft % (60 * 60 * 1000)) / (60 * 1000));
                const seconds = Math.floor((timeLeft % (60 * 1000)) / 1000);
                
                content.innerHTML = `
                    <p class="text-white font-bold mb-4">Następny prezent za:</p>
                    <div class="countdown-timer bg-red-700 border-2 border-white text-white px-4 py-2 font-bold text-xl">
                        ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}
                    </div>
                `;
            }
        }
        
        function startDailyGiftLottery() {
            addIntenseClickEffect(event.target);
            
            const prizes = [
                { type: 'coins', amount: 100, text: '100 MONET' },
                { type: 'coins', amount: 200, text: '200 MONET' },
                { type: 'coins', amount: 300, text: '300 MONET' },
                { type: 'credits', amount: 200, text: '200 KREDYTÓW' },
                { type: 'credits', amount: 500, text: '500 KREDYTÓW' },
                { type: 'credits', amount: 800, text: '800 KREDYTÓW' }
            ];
            
            const content = document.getElementById('daily-gift-content');
            
            // Rozpocznij animację losowania
            content.innerHTML = `
                <p class="text-white font-bold mb-4">LOSOWANIE...</p>
                <div id="lottery-display" class="lottery-spinning bg-red-700 border-2 border-white text-white px-4 py-2 font-bold text-lg mb-4">
                    ???
                </div>
                <p class="text-white text-sm">Czekaj...</p>
            `;
            
            const lotteryDisplay = document.getElementById('lottery-display');
            let currentIndex = 0;
            
            // Szybkie przelatywanie przez 4 sekundy
            const interval = setInterval(() => {
                const prize = prizes[currentIndex % prizes.length];
                lotteryDisplay.textContent = prize.text;
                currentIndex++;
            }, 80);
            
            // Po 4 sekundach pokaż wynik
            setTimeout(() => {
                clearInterval(interval);
                
                // Losuj nagrodę
                const finalPrize = prizes[Math.floor(Math.random() * prizes.length)];
                
                lotteryDisplay.className = 'lottery-result bg-red-700 border-2 border-white text-white px-4 py-2 font-bold text-lg mb-4';
                lotteryDisplay.textContent = finalPrize.text;
                
                content.innerHTML = `
                    <p class="text-white font-bold mb-4">WYGRAŁEŚ!</p>
                    <div class="lottery-result bg-red-700 border-2 border-white text-white px-4 py-2 font-bold text-lg mb-4">
                        ${finalPrize.text}
                    </div>
                    <button onclick="claimDailyGiftReward('${finalPrize.type}', ${finalPrize.amount})" class="click-effect bg-green-800 hover:bg-green-700 text-white font-bold py-3 px-6 retro-shadow transition-all duration-200 text-lg">
                        ODBIERZ NAGRODĘ!
                    </button>
                `;
            }, 4000);
        }
        
        function claimDailyGiftReward(type, amount) {
            addIntenseClickEffect(event.target);
            
            if (type === 'coins') {
                coins += amount;
                totalCoinsEarned += amount;
            } else if (type === 'credits') {
                credits += amount;
                passCredits += amount;
            }
            
            // Ustaw czas ostatniego odebrania prezentu
            lastDailyGiftTime = Date.now();
            dailyGiftAvailable = false;
            
            // Update daily gift mission progress
            dailyGiftsCollected++;
            
            updateCoinDisplay();
            updateMissionProgress();
            updatePassProgress();
            updateDailyGiftDisplay();
            saveGameData();
            
            // Pokaż komunikat o sukcesie
            const message = document.createElement('div');
            message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 color-explosion';
            message.innerHTML = `
                <h3 class="pacyfico text-xl text-green-800 mb-4">Prezent odebrany!</h3>
                <p class="mb-4">Otrzymałeś ${amount} ${type === 'coins' ? 'monet' : 'kredytów'}!</p>
                <p class="mb-4 text-sm">Następny prezent będzie dostępny za 24 godziny.</p>
                <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                    Świetnie!
                </button>
            `;
            document.body.appendChild(message);
            
            // Uruchom timer odliczania
            startDailyGiftCountdown();
        }
        
        function startDailyGiftCountdown() {
            setInterval(() => {
                if (!dailyGiftAvailable) {
                    checkDailyGiftAvailability();
                }
            }, 1000); // Aktualizuj co sekundę
        }

        // Special code function
        function checkSpecialCode() {
            addIntenseClickEffect(event.target);
            
            const codeInput = document.getElementById('special-code-input');
            const code = codeInput.value.trim().toUpperCase();
            
            if (code === 'TAT35') {
                // Sprawdź czy kod już został użyty
                const usedCodes = JSON.parse(localStorage.getItem('usedCodes') || '[]');
                
                if (usedCodes.includes('TAT35')) {
                    // Kod już został użyty
                    const message = document.createElement('div');
                    message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-red-900 retro-shadow p-6 z-50 shake-effect';
                    message.innerHTML = `
                        <h3 class="pacyfico text-xl text-red-900 mb-4">Kod już użyty</h3>
                        <p class="mb-4">Ten kod został już wcześniej wykorzystany!</p>
                        <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-4 retro-shadow click-effect">
                            OK
                        </button>
                    `;
                    document.body.appendChild(message);
                } else {
                    // Kod prawidłowy i nieużywany
                    coins += 3500;
                    totalCoinsEarned += 3500;
                    
                    // Dodaj kod do listy użytych
                    usedCodes.push('TAT35');
                    localStorage.setItem('usedCodes', JSON.stringify(usedCodes));
                    
                    updateCoinDisplay();
                    updateMissionProgress();
                    saveGameData();
                    
                    // Wyczyść pole
                    codeInput.value = '';
                    
                    // Pokaż komunikat o sukcesie
                    const message = document.createElement('div');
                    message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-green-800 retro-shadow p-6 z-50 color-explosion';
                    message.innerHTML = `
                        <h3 class="pacyfico text-xl text-green-800 mb-4">Kod aktywowany!</h3>
                        <p class="mb-4">Otrzymałeś 3500 monet!</p>
                        <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 retro-shadow click-effect">
                            Świetnie!
                        </button>
                    `;
                    document.body.appendChild(message);
                }
            } else if (code === '') {
                // Puste pole
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-red-900 retro-shadow p-6 z-50 shake-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-red-900 mb-4">Brak kodu</h3>
                    <p class="mb-4">Wprowadź kod specjalny!</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
            } else {
                // Nieprawidłowy kod
                const message = document.createElement('div');
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border-4 border-red-900 retro-shadow p-6 z-50 shake-effect';
                message.innerHTML = `
                    <h3 class="pacyfico text-xl text-red-900 mb-4">Nieprawidłowy kod</h3>
                    <p class="mb-4">Kod "${code}" nie istnieje lub jest nieprawidłowy.</p>
                    <button onclick="addIntenseClickEffect(this); this.parentElement.remove();" class="bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-4 retro-shadow click-effect">
                        OK
                    </button>
                `;
                document.body.appendChild(message);
                
                // Wyczyść pole
                codeInput.value = '';
            }
        }

        // Initialize immediately
        loadGameData();
        updateCoinDisplay();
        updatePostsDisplay();
        updateShopDisplay();
        updateMissionProgress();
        updatePassProgress();
        checkDailyGiftAvailability();
        startDailyGiftCountdown();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98f57d37c4ed6351',t:'MTc2MDU5NjAzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

